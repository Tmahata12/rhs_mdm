# ================================================
# RHS MDM System V2.0 - Environment Configuration
# ================================================
# 
# IMPORTANT: Rename this file to ".env" before use
# ================================================

# ========================================
# REQUIRED - MongoDB Configuration
# ========================================
# MongoDB Atlas Connection String
# Get this from: MongoDB Atlas → Connect → Connect Your Application
# Format: mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/rhs_mdm?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://your_username:your_password@cluster0.xxxxx.mongodb.net/rhs_mdm?retryWrites=true&w=majority

# ========================================
# REQUIRED - Server Configuration
# ========================================
# Server Port (default: 3000)
# For cPanel, use the port provided by your hosting
PORT=3000

# Node Environment (development/production)
NODE_ENV=production

# ========================================
# REQUIRED - JWT Secret Key
# ========================================
# Generate a strong random secret key for JWT tokens
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_random_secret_key_here_change_this_to_something_secure

# ========================================
# OPTIONAL - Email Configuration (for notifications)
# ========================================
# Email Service (gmail, outlook, yahoo, etc.)
EMAIL_SERVICE=gmail

# Your email address (for sending notifications)
EMAIL_USER=your-email@gmail.com

# Email password or app-specific password
# For Gmail: Use App Password (2FA required)
# Generate at: https://myaccount.google.com/apppasswords
EMAIL_PASSWORD=your_email_app_password

# Admin email address (receives daily reports and alerts)
ADMIN_EMAIL=admin@ramnagarhs.edu

# ========================================
# OPTIONAL - Frontend URL (for password reset links)
# ========================================
FRONTEND_URL=http://localhost:3000

# ========================================
# OPTIONAL - Advanced Settings
# ========================================
# Session timeout (in seconds, default: 604800 = 7 days)
SESSION_TIMEOUT=604800

# Maximum file upload size
MAX_FILE_SIZE=50mb

# Rate limiting (requests per 15 minutes)
RATE_LIMIT=100

# ================================================
# SETUP INSTRUCTIONS
# ================================================
#
# 1. MongoDB Atlas Setup:
#    - Go to https://www.mongodb.com/cloud/atlas
#    - Create FREE account
#    - Create cluster (M0 FREE tier)
#    - Create database user
#    - Whitelist IP: 0.0.0.0/0
#    - Get connection string
#    - Replace <password> with your database password
#    - Add /rhs_mdm before the ?
#
# 2. JWT Secret:
#    - Generate random secret key
#    - Run: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#    - Copy and paste above
#
# 3. Email Setup (Optional but Recommended):
#    For Gmail:
#    - Enable 2-Factor Authentication
#    - Go to: https://myaccount.google.com/apppasswords
#    - Generate App Password
#    - Use that password in EMAIL_PASSWORD
#
#    For other email services:
#    - Check their SMTP settings
#    - Update EMAIL_SERVICE accordingly
#
# 4. Frontend URL:
#    - For local: http://localhost:3000
#    - For production: https://yourdomain.com
#
# ================================================
# SECURITY NOTES
# ================================================
#
# ⚠️  NEVER commit .env file to Git
# ⚠️  Use strong passwords
# ⚠️  Change default admin password immediately
# ⚠️  Keep JWT_SECRET secure and random
# ⚠️  Use HTTPS in production
# ⚠️  Enable firewall on your server
# ⚠️  Regular backups (automatic daily backup enabled)
#
# ================================================
# DEFAULT ADMIN CREDENTIALS (Change immediately!)
# ================================================
#
# Email: admin@ramnagarhs.edu
# Password: admin123
#
# ⚠️  LOGIN AND CHANGE PASSWORD IMMEDIATELY!
#
# ================================================

# Example Configuration (WORKING):
# ================================================
# MONGODB_URI=mongodb+srv://tapas:MySecurePass123@cluster0.abc123.mongodb.net/rhs_mdm?retryWrites=true&w=majority
# PORT=3000
# NODE_ENV=production
# JWT_SECRET=a7f8d9e6c5b4a3f2e1d0c9b8a7f6e5d4c3b2a1f0e9d8c7b6a5f4e3d2c1b0a9f8
# EMAIL_SERVICE=gmail
# EMAIL_USER=ramnagarhs@gmail.com
# EMAIL_PASSWORD=abcd efgh ijkl mnop
# FRONTEND_URL=https://mdm.ramnagarhs.edu
# ================================================
